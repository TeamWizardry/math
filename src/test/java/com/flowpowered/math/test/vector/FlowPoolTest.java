package com.flowpowered.math.test.vector;

import com.flowpowered.math.vector.FlowPool;
import org.junit.Test;

import java.util.Arrays;

import static org.junit.Assert.*;

public class FlowPoolTest {

    @Test
    public void test1DPool() {
        FlowPool<String> pool = new FlowPool<String>(1, 2) {
            @Override
            protected String create(int x, int y, int z, int w) {
                return "" + x;
            }
        };

        assertArrayEquals(new String[] { "-2", "-1", "0", "1"}, pool.cache);
    }

    @Test
    public void test2DPool() {
        FlowPool<String> pool = new FlowPool<String>(2, 2) {
            @Override
            protected String create(int x, int y, int z, int w) {
                return x + " " + y;
            }
        };

        assertArrayEquals(new String[] {
                "-2 -2", "-1 -2", "0 -2", "1 -2",
                "-2 -1", "-1 -1", "0 -1", "1 -1",
                "-2 0", "-1 0", "0 0", "1 0",
                "-2 1", "-1 1", "0 1", "1 1",
        }, pool.cache);
    }

    @Test
    public void test4DPool() {
        FlowPool<String> pool = new FlowPool<String>(4, 2) {
            @Override
            protected String create(int x, int y, int z, int w) {
                return x + " " + y + " " + z + " " + w;
            }
        };

        assertArrayEquals(new String[] {
                        "-2 -2 -2 -2", "-1 -2 -2 -2", "0 -2 -2 -2", "1 -2 -2 -2",
                        "-2 -1 -2 -2", "-1 -1 -2 -2", "0 -1 -2 -2", "1 -1 -2 -2",
                        "-2 0 -2 -2", "-1 0 -2 -2", "0 0 -2 -2", "1 0 -2 -2",
                        "-2 1 -2 -2", "-1 1 -2 -2", "0 1 -2 -2", "1 1 -2 -2",
                        "-2 -2 -1 -2", "-1 -2 -1 -2", "0 -2 -1 -2", "1 -2 -1 -2",
                        "-2 -1 -1 -2", "-1 -1 -1 -2", "0 -1 -1 -2", "1 -1 -1 -2",
                        "-2 0 -1 -2", "-1 0 -1 -2", "0 0 -1 -2", "1 0 -1 -2",
                        "-2 1 -1 -2", "-1 1 -1 -2", "0 1 -1 -2", "1 1 -1 -2",
                        "-2 -2 0 -2", "-1 -2 0 -2", "0 -2 0 -2", "1 -2 0 -2",
                        "-2 -1 0 -2", "-1 -1 0 -2", "0 -1 0 -2", "1 -1 0 -2",
                        "-2 0 0 -2", "-1 0 0 -2", "0 0 0 -2", "1 0 0 -2",
                        "-2 1 0 -2", "-1 1 0 -2", "0 1 0 -2", "1 1 0 -2",
                        "-2 -2 1 -2", "-1 -2 1 -2", "0 -2 1 -2", "1 -2 1 -2",
                        "-2 -1 1 -2", "-1 -1 1 -2", "0 -1 1 -2", "1 -1 1 -2",
                        "-2 0 1 -2", "-1 0 1 -2", "0 0 1 -2", "1 0 1 -2",
                        "-2 1 1 -2", "-1 1 1 -2", "0 1 1 -2", "1 1 1 -2",
                        "-2 -2 -2 -1", "-1 -2 -2 -1", "0 -2 -2 -1", "1 -2 -2 -1",
                        "-2 -1 -2 -1", "-1 -1 -2 -1", "0 -1 -2 -1", "1 -1 -2 -1",
                        "-2 0 -2 -1", "-1 0 -2 -1", "0 0 -2 -1", "1 0 -2 -1",
                        "-2 1 -2 -1", "-1 1 -2 -1", "0 1 -2 -1", "1 1 -2 -1",
                        "-2 -2 -1 -1", "-1 -2 -1 -1", "0 -2 -1 -1", "1 -2 -1 -1",
                        "-2 -1 -1 -1", "-1 -1 -1 -1", "0 -1 -1 -1", "1 -1 -1 -1",
                        "-2 0 -1 -1", "-1 0 -1 -1", "0 0 -1 -1", "1 0 -1 -1",
                        "-2 1 -1 -1", "-1 1 -1 -1", "0 1 -1 -1", "1 1 -1 -1",
                        "-2 -2 0 -1", "-1 -2 0 -1", "0 -2 0 -1", "1 -2 0 -1",
                        "-2 -1 0 -1", "-1 -1 0 -1", "0 -1 0 -1", "1 -1 0 -1",
                        "-2 0 0 -1", "-1 0 0 -1", "0 0 0 -1", "1 0 0 -1",
                        "-2 1 0 -1", "-1 1 0 -1", "0 1 0 -1", "1 1 0 -1",
                        "-2 -2 1 -1", "-1 -2 1 -1", "0 -2 1 -1", "1 -2 1 -1",
                        "-2 -1 1 -1", "-1 -1 1 -1", "0 -1 1 -1", "1 -1 1 -1",
                        "-2 0 1 -1", "-1 0 1 -1", "0 0 1 -1", "1 0 1 -1",
                        "-2 1 1 -1", "-1 1 1 -1", "0 1 1 -1", "1 1 1 -1",
                        "-2 -2 -2 0", "-1 -2 -2 0", "0 -2 -2 0", "1 -2 -2 0",
                        "-2 -1 -2 0", "-1 -1 -2 0", "0 -1 -2 0", "1 -1 -2 0",
                        "-2 0 -2 0", "-1 0 -2 0", "0 0 -2 0", "1 0 -2 0",
                        "-2 1 -2 0", "-1 1 -2 0", "0 1 -2 0", "1 1 -2 0",
                        "-2 -2 -1 0", "-1 -2 -1 0", "0 -2 -1 0", "1 -2 -1 0",
                        "-2 -1 -1 0", "-1 -1 -1 0", "0 -1 -1 0", "1 -1 -1 0",
                        "-2 0 -1 0", "-1 0 -1 0", "0 0 -1 0", "1 0 -1 0",
                        "-2 1 -1 0", "-1 1 -1 0", "0 1 -1 0", "1 1 -1 0",
                        "-2 -2 0 0", "-1 -2 0 0", "0 -2 0 0", "1 -2 0 0",
                        "-2 -1 0 0", "-1 -1 0 0", "0 -1 0 0", "1 -1 0 0",
                        "-2 0 0 0", "-1 0 0 0", "0 0 0 0", "1 0 0 0",
                        "-2 1 0 0", "-1 1 0 0", "0 1 0 0", "1 1 0 0",
                        "-2 -2 1 0", "-1 -2 1 0", "0 -2 1 0", "1 -2 1 0",
                        "-2 -1 1 0", "-1 -1 1 0", "0 -1 1 0", "1 -1 1 0",
                        "-2 0 1 0", "-1 0 1 0", "0 0 1 0", "1 0 1 0",
                        "-2 1 1 0", "-1 1 1 0", "0 1 1 0", "1 1 1 0",
                        "-2 -2 -2 1", "-1 -2 -2 1", "0 -2 -2 1", "1 -2 -2 1",
                        "-2 -1 -2 1", "-1 -1 -2 1", "0 -1 -2 1", "1 -1 -2 1",
                        "-2 0 -2 1", "-1 0 -2 1", "0 0 -2 1", "1 0 -2 1",
                        "-2 1 -2 1", "-1 1 -2 1", "0 1 -2 1", "1 1 -2 1",
                        "-2 -2 -1 1", "-1 -2 -1 1", "0 -2 -1 1", "1 -2 -1 1",
                        "-2 -1 -1 1", "-1 -1 -1 1", "0 -1 -1 1", "1 -1 -1 1",
                        "-2 0 -1 1", "-1 0 -1 1", "0 0 -1 1", "1 0 -1 1",
                        "-2 1 -1 1", "-1 1 -1 1", "0 1 -1 1", "1 1 -1 1",
                        "-2 -2 0 1", "-1 -2 0 1", "0 -2 0 1", "1 -2 0 1",
                        "-2 -1 0 1", "-1 -1 0 1", "0 -1 0 1", "1 -1 0 1",
                        "-2 0 0 1", "-1 0 0 1", "0 0 0 1", "1 0 0 1",
                        "-2 1 0 1", "-1 1 0 1", "0 1 0 1", "1 1 0 1",
                        "-2 -2 1 1", "-1 -2 1 1", "0 -2 1 1", "1 -2 1 1",
                        "-2 -1 1 1", "-1 -1 1 1", "0 -1 1 1", "1 -1 1 1",
                        "-2 0 1 1", "-1 0 1 1", "0 0 1 1", "1 0 1 1",
                        "-2 1 1 1", "-1 1 1 1", "0 1 1 1", "1 1 1 1"
                }, pool.cache);
    }
}